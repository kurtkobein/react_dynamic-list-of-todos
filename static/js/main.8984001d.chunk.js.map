{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","state","searchRequest","filterBy","setSearchRequest","e","setState","target","value","setFilterBy","getfilteredTodos","todos","props","filter","completed","title","toLowerCase","includes","this","isLoading","selectedUserId","setTodosByChecked","setSelectedUserId","className","type","placeholder","onChange","map","todo","classNames","checked","id","userId","onClick","React","Component","getResponse","endpoint","a","fetch","response","json","CurrentUser","selectedUser","setIsLoading","loadData","newSelectedUser","clearCurrentUser","clearUser","name","email","phone","App","componentDidMount","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8984001d.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport classNames from 'classnames';\nimport React from 'react';\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[] | [],\n  isLoading: boolean,\n  selectedUserId: number,\n  setTodosByChecked: (id: number) => void;\n  setSelectedUserId: (id: number) => void;\n};\n\ntype State = {\n  searchRequest: string,\n  filterBy: string,\n};\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    searchRequest: '',\n    filterBy: 'all',\n  };\n\n  setSearchRequest = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ searchRequest: e.target.value });\n  };\n\n  setFilterBy = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    this.setState({ filterBy: e.target.value });\n  };\n\n  getfilteredTodos = () => {\n    const { todos } = this.props;\n    const { filterBy, searchRequest } = this.state;\n\n    const filteredTodosByComplete = todos.filter(({ completed }) => {\n      switch (filterBy) {\n        case 'active':\n          return !completed;\n        case 'completed':\n          return completed;\n        default:\n          return true;\n      }\n    });\n\n    const filteredTodosByTitle = filteredTodosByComplete.filter(({ title }) => {\n      return title.toLowerCase().includes(searchRequest.toLowerCase());\n    });\n\n    return filteredTodosByTitle;\n  };\n\n  render() {\n    const {\n      isLoading,\n      selectedUserId,\n      setTodosByChecked,\n      setSelectedUserId,\n    } = this.props;\n    const { getfilteredTodos, setSearchRequest, setFilterBy } = this;\n    const todos = getfilteredTodos();\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <label>\n          Find todo:\n          <input\n            type=\"text\"\n            className=\"TodoList__search-bar\"\n            placeholder=\"write a title\"\n            value={this.state.searchRequest}\n            onChange={setSearchRequest}\n          />\n        </label>\n        <select onChange={setFilterBy}>\n          <option value=\"all\">All</option>\n          <option value=\"active\">Active</option>\n          <option value=\"completed\">Completed</option>\n        </select>\n\n        <div className=\"TodoList__list-container\">\n          {isLoading ? (\n            <div className=\"loader\" />\n          ) : (\n            <ul className=\"TodoList__list\">\n              {todos.map(todo => (\n                <li\n                  key={todo.id}\n                  className={classNames(\n                    'TodoList__item',\n                    { 'TodoList__item--unchecked': !todo.completed },\n                    { 'TodoList__item--checked': todo.completed },\n                  )}\n                >\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={todo.completed}\n                      onChange={() => setTodosByChecked(todo.id)}\n                    />\n                    <p>{todo.title}</p>\n                  </label>\n\n                  <button\n                    className={classNames(\n                      'TodoList__user-button',\n                      { 'TodoList__user-button--selected': selectedUserId === todo.userId },\n                      'button',\n                    )}\n                    type=\"button\"\n                    onClick={() => setSelectedUserId(todo.userId)}\n                  >\n                    User #\n                    {todo.userId}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://mate.academy/students-api/';\n\nexport const getResponse = async (endpoint: string) => {\n  try {\n    const response = await fetch(`${BASE_URL}${endpoint}`);\n\n    return await response.json();\n  } catch (error) {\n    return error;\n  }\n};\n","import React from 'react';\nimport './CurrentUser.scss';\n\nimport { getResponse } from '../../api';\n\ntype Props = {\n  selectedUserId: number,\n  clearUser: () => void;\n};\n\ntype State = {\n  selectedUser: User | null,\n  isLoading: boolean,\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    selectedUser: null,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(props: Props) {\n    if (props.selectedUserId !== this.props.selectedUserId) {\n      this.setIsLoading();\n      this.loadData();\n    }\n  }\n\n  setIsLoading = () => {\n    this.setState({ isLoading: true });\n  };\n\n  loadData = async () => {\n    const newSelectedUser = await getResponse(`users/${this.props.selectedUserId}`);\n\n    this.setState({ selectedUser: newSelectedUser, isLoading: false });\n  };\n\n  clearCurrentUser = () => {\n    this.props.clearUser();\n    this.setState({ selectedUser: null });\n  };\n\n  render() {\n    const { selectedUser, isLoading } = this.state;\n    const { clearCurrentUser } = this;\n\n    return (\n      <div className=\"CurrentUser\">\n        {isLoading ? (\n          <div className=\"loader\" />\n        ) : (\n          selectedUser && (\n            <>\n              <h2 className=\"CurrentUser__title\">\n                {'Selected user: '}\n                {selectedUser.id}\n              </h2>\n              <h3 className=\"CurrentUser__name\">\n                {selectedUser.name}\n              </h3>\n              <p className=\"CurrentUser__email\">\n                {selectedUser.email}\n              </p>\n              <p className=\"CurrentUser__phone\">\n                {selectedUser.phone}\n              </p>\n              <button\n                type=\"button\"\n                className=\"button\"\n                onClick={clearCurrentUser}\n              >\n                Clear\n              </button>\n            </>\n          )\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\n\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getResponse } from './api';\n\ninterface State {\n  todos: Todo[] | [],\n  selectedUserId: number,\n  isLoading: boolean,\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    todos: [],\n    selectedUserId: 0,\n    isLoading: true,\n  };\n\n  componentDidMount = async () => {\n    this.setState({ todos: await getResponse('todos'), isLoading: false });\n  };\n\n  setSelectedUserId = (id: number) => {\n    if (this.state.selectedUserId !== id) {\n      this.setState({ selectedUserId: id });\n    }\n  };\n\n  setTodosByChecked = (id: number) => {\n    this.setState(state => {\n      const newTodos = state.todos.map(todo => {\n        return todo.id === id\n          ? { ...todo, completed: !todo.completed }\n          : todo;\n      });\n\n      return { todos: newTodos };\n    });\n  };\n\n  clearUser = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  render() {\n    const { todos, selectedUserId, isLoading } = this.state;\n    const { setTodosByChecked, setSelectedUserId, clearUser } = this;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            isLoading={isLoading}\n            selectedUserId={selectedUserId}\n            setTodosByChecked={setTodosByChecked}\n            setSelectedUserId={setSelectedUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                selectedUserId={selectedUserId}\n                clearUser={clearUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}